"use strict";(self["webpackChunktest_vue_project"]=self["webpackChunktest_vue_project"]||[]).push([[610],{3621:function(t,e,s){s.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-container"},[t._t("default")],2)},a=[],n={name:"AuthContainer"},i=n,o=s(1001),u=(0,o.Z)(i,r,a,!1,null,"79242ef8",null),l=u.exports},3090:function(t,e,s){s.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("section",{staticClass:"auth-section"},[t._t("default")],2)},a=[],n={name:"AuthSection"},i=n,o=s(1001),u=(0,o.Z)(i,r,a,!1,null,"7b40795f",null),l=u.exports},5314:function(t,e,s){s.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("span",{staticClass:"circle-loader"},[e("svg",{staticClass:"preloader-icon",style:t.style,attrs:{viewBox:"0 0 100 100",width:t.width,height:t.height}},[e("circle",{attrs:{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"}})])])},a=[],n={name:"CircleLoader",props:{width:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#fff"}},computed:{style(){return`stroke: ${this.color};`}}},i=n,o=s(1001),u=(0,o.Z)(i,r,a,!1,null,"04ba32cc",null),l=u.exports},3392:function(t,e,s){s.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("button",{class:{btn:!0,"btn--outlined":t.outlined},attrs:{type:t.type,disabled:t.loading},on:{click:function(e){return t.$emit("click")}}},[t.loading?e("CircleLoader",{staticClass:"btn__loader",attrs:{width:"38",height:"38"}}):t._e(),e("span",{staticClass:"btn_content",class:t.contentStyle},[t._t("default")],2)],1)},a=[],n=s(5314),i={name:"MainButton",components:{CircleLoader:n.Z},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contentStyle(){return{"btn__content--hidden":this.loading}}}},o=i,u=s(1001),l=(0,u.Z)(o,r,a,!1,null,"65cb233d",null),c=l.exports},9865:function(t,e,s){s.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper-input"},[e("input",t._g(t._b({staticClass:"custom-input",class:!t.isValid&&"custom-input--error",domProps:{value:t.value},on:{blur:t.blurHandler}},"input",t.$attrs,!1),t.attrs)),t.isValid?t._e():e("span",{staticClass:"custom-input__error"},[t._v(t._s(t.error))])])},a=[],n={name:"CustomInput",data(){return{isValid:!0,error:"",isFirstInput:!0}},inject:{form:{default:null}},inheritAttrs:!1,props:{value:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]}},watch:{value(){this.isFirstInput||this.validate()}},computed:{attrs(){return{...this.$attrs,input:t=>this.$emit("input",t.target.value)}}},methods:{validate(){return this.isValid=this.rules.every((t=>{const{hasPassed:e,message:s}=t(this.value);return e?(this.error="",this.isValid=!0):this.error=s||this.errorMessage,e})),this.isValid},blurHandler(){this.isFirstInput&&this.validate(),this.isFirstInput=!1},reset(){this.isValid=!0,this.error="",this.isFirstInput=!0,this.$emit("input","")}},mounted(){this.form&&this.form.registerInput(this)},beforeUnmount(){this.form&&this.form.unRegisterInput(this)}},i=n,o=s(1001),u=(0,o.Z)(i,r,a,!1,null,"0a968788",null),l=u.exports},7232:function(t,e,s){s.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("form",{on:{submit:function(e){return e.preventDefault(),t.$emit("submit")}}},[t._t("default")],2)},a=[],n=(s(7658),{name:"CustomForm",provide(){return{form:this}},data(){return{inputs:[]}},methods:{registerInput(t){this.inputs.push(t)},unRegisterInput(t){this.inputs.filter((e=>e!==t))},validate(){return this.inputs.reduce(((t,e)=>{const s=e.validate();return t&&s}),!0)},reset(){this.inputs.forEach((t=>t.reset()))}}}),i=n,o=s(1001),u=(0,o.Z)(i,r,a,!1,null,"011c07d0",null),l=u.exports},6920:function(t,e,s){s.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t._self._c;return e(t.tagName,{tag:"component",staticClass:"main-title"},[t._t("default")],2)},a=[],n={name:"MainTitle",props:{level:{type:Number,default:1}},computed:{tagName(){return`h${this.level}`}}},i=n,o=s(1001),u=(0,o.Z)(i,r,a,!1,null,"0987f237",null),l=u.exports},610:function(t,e,s){s.r(e),s.d(e,{default:function(){return Z}});var r=function(){var t=this,e=t._self._c;return e("main",{staticClass:"registration"},[e("AuthSection",[e("RegistrationForm")],1)],1)},a=[],n=s(3090),i=function(){var t=this,e=t._self._c;return e("AuthContainer",{staticClass:"registration"},[e("MainTitle",{staticClass:"registration__title"},[t._v("Registration")]),e("Form",{ref:"form",staticClass:"registration__form",on:{submit:t.handleSubmit}},[e("CustomInput",{staticClass:"registration__input",attrs:{name:"name",placeholder:"Name",autocomplete:"username",rules:t.nameRules},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),e("CustomInput",{staticClass:"registration__input",attrs:{name:"email",placeholder:"Email",autocomplete:"email",rules:t.emailRules},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),e("CustomInput",{staticClass:"registration__input",attrs:{name:"password",type:"password",placeholder:"Password",autocomplete:"current-password",rules:t.passwordRules},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),e("CustomInput",{staticClass:"registration__input",attrs:{name:"password",type:"password",placeholder:"Confirm password",autocomplete:"current-password",rules:t.confirmPassword},model:{value:t.formData.confirmPassword,callback:function(e){t.$set(t.formData,"confirmPassword",e)},expression:"formData.confirmPassword"}}),e("Button",{staticClass:"registration__btn",attrs:{loading:t.loading,type:"submit"}},[t._v("Register")])],1)],1)},o=[],u=(s(7658),s(3392)),l=s(9865),c=s(7232),d=s(4034),m=s(629),p=s(3621),f=s(6920),h={name:"RegistrationForm",components:{Form:c.Z,CustomInput:l.Z,Button:u.Z,AuthContainer:p.Z,MainTitle:f.Z},data(){return{loading:!1,formData:{name:"",email:"",password:"",confirmPassword:""}}},methods:{...(0,m.nv)("auth",["registerUser"]),async handleSubmit(){const{form:t}=this.$refs,e=t.validate(),{name:s,password:r,email:a}=this.formData;if(e)try{this.loading=!0,await this.registerUser({name:s,password:r,email:a}),this.$router.push({name:"homepage"}),t.reset()}catch(n){this.$notify({type:"error",title:"Error occured",text:n.message})}finally{this.loading=!1}}},computed:{rules(){return{emailValidation:d.D6,passwordValidation:d.aO,isRequired:d.q9}},nameRules(){return[this.rules.isRequired]},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},passwordRules(){return[this.rules.isRequired,this.rules.passwordValidation]},confirmPassword(){return[t=>({hasPassed:t===this.formData.password,message:"Password mismatch"})]}}},g=h,_=s(1001),v=(0,_.Z)(g,i,o,!1,null,"ffe8b378",null),w=v.exports,b={name:"RegistrationPage",components:{AuthSection:n.Z,RegistrationForm:w}},C=b,y=(0,_.Z)(C,r,a,!1,null,"6b7b87e6",null),Z=y.exports},4034:function(t,e,s){s.d(e,{D6:function(){return n},F8:function(){return a},aO:function(){return i},q9:function(){return r}});const r=t=>({hasPassed:""!==t,message:"Please fill in the form"}),a=t=>e=>({hasPassed:e.length<=t,message:"You have exceeded the limit"}),n=t=>({hasPassed:/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/.test(t),message:"Wrong email"}),i=t=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(t),message:"The password must contain one number and one symbol"})}}]);
//# sourceMappingURL=610.c53d5246.js.map